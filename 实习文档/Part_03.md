##wcm简介
>WCM（Web Content Management，网站内容管理）是针对大型门户网站的搭建和运行管理而发展起来的一类应用软件平台， 是随着互联网应用普及而发展起来的一项综合技术。WCM系统涉及内容管理、多媒体（富媒体）管理、内容采集、内容加工、网站运行管理、 网站交互功能管理以及网站安全管理等多方面的内容。

简单来说就是为构建网站，网站内容的构建和更新管理的软件平台。

###wcm基本概念

**库：**相同类型站点的集合，分为文字库、图片库、视频库和资源库。

**站点：**WCM 系统里最主要的对象，负责组织和管理栏目。一个站点相当于一个 Internet 网站，可以按照网站的结构来设计站点及栏目。

**栏目：**站点的下一级管理单元，用来组织和管理文档。栏目的存在必须依附于站点，没有站点便不能建立栏目。

**文档：**WCM 系统的基本单元，也是系统的核心数据内容。系统中的每一篇文档都必须建立在某个栏目下，由具备特定权限的用户来操作和管理。

**模板：**带有 TRS 置标的 HTML 文件，用来控制发布页面的显示。系统中的站点、栏目、文档都可以分别配备不同类型模板。

**发布：**将系统中的数据结合模板置标生成 HTML 页面的过程。设置了完整发布属性的站点、栏目及文档都可以执行发布操作。

**预览：**在对象发布之前，通过预览功能可以提前查看站点、栏目和文档发布后的效果。

**元数据：**描述一个对象的属性的集合，类似数据库中表的概念。

**视图：**建立在元数据之上、由元数据生成的属性的集合，类似数据库中视图的概念。

**分类法：**用于标识数据的一颗分类树，如按体裁分类，按机构分类。

##wcm使用

利用wcm建立一个简单的演示项目，并完成列表页、详情页的发布。

###一、建立一个站点

**在文字库中建立一个站点，作为这个演示项目的站点。**

进入文字库的“站点”标签页，进入站点列表页面，在操作面板中的系统操作任务面板中，点击**创建一个新站点**，弹出创建站点对话框。

![Markdown](http://i1.piimg.com/581381/d434b3458326090b.png)

按照自己的需求对你的站点填写站点的唯一标识、显示名称、存放位置、站点HTTP等（如果没有特殊需要，系统自动生成的项无序更改）。

新建完成之后会在站点列表中看到这个新建的站点。

![Markdown](http://p1.bpimg.com/581381/c16fbb160647ba25.png)

###二、建立一个栏目

栏目依附于站点而存在，因此只能在站点中创建。

栏目的创建跟站点创建类似，双击“新闻站点”的图标进入站点，或在导航树中点击刚刚建立的站点直接进入站点。打开标签栏中的**栏目**，进入栏目列表页面。

在子栏目操作任务面板中点击**新建一个栏目**，弹出新建栏目对话框。

![Markdown](http://p1.bpimg.com/581381/c47dbdc780e4a328.png)

按照自己的需求对你的站点填写栏目的栏目类型、唯一标识、显示名称、存放位置等，新建完成之后会在拉栏目列表看到刚刚新建的所有的栏目。（在这里我新建了两个栏目）。

![Markdown](http://p1.bpimg.com/581381/274a35bea469afeb.png)

单击图标选中这个栏目后，操作面板中出现栏目操作任务面板，其中列举了对栏目的所有可执行
操作。通过栏目详细信息面板，可以查看栏目的基本属性。

###三、建立一个文档

文档只能创建在普通栏目中。文档的创建又跟栏目类似，打开栏目下的**文档**标签页，进入栏目的文档列表页面，在栏目文档操作任务面板中点击**创建一篇新文档**，打开文档编辑页面。

![Markdown](http://i1.piimg.com/581381/9bf51cfd26dd5d9e.png)

根据自己的需求对文档进行编辑和修改。编辑完成后点击底部的“保存并关闭”按钮，保存文档且退出编辑器。这时文档列表中出现了创建的这篇文档。这里我新建了四篇文档。

![Markdown](http://p1.bqimg.com/581381/7fc8e1025e38697c.png)

###四、创建和设置模板

####创建模板

模板是带有 TRS 置标的 HTML 文件，用来控制发布页面的内容显示和结构布局。站点、栏目和文
档都属于可以发布的对象，要想发布，就必须先创建一些模板并配置到站点、栏目、文档这些对象上。

站点和栏目中都可以创建模板，站点下创建的模板可被站点内的所有栏目和文档使用，在栏目下
创建的模板只能被当前栏目、子栏目和文档使用。

进入站点“新闻站点”，打开**模板**标签进入站点的模板列表页面。在“站点模板操作任务”
面板中点击**新建一个模板**，打开模板编辑器。

![Markdown](http://i1.piimg.com/581381/70e93cdef2e4d413.png)

如果需要自带的提示或者自动生成置标，则可以点击切换置标添加向导的状态，如图：

![Markdown](http://p1.bpimg.com/581381/ffc2540139104d7c.png)

填写你的模板名称、类型、和模板内具体的内容。

由于我们要建立的是一个列表页面，不需要看到文档里面具体的内容。所以我们在这里选择的模板类型为概览模板。

模板的具体内容也可以把预先写好的html文件上传上来，再改一下相应的置标。

在模板标签页下可以看到新建的所有的模板，并对模板进行操作。

![Markdown](http://p1.bqimg.com/581381/865cbeeab86852e4.png)

在这里我根据我的需求，建立了三个模板：

*	**站点**模板（概览）：用来展示所有的站点的名字；
*	**列表**模板（概览）：用来展示所有文档的名字；（也就是列表页）
*	**详情页**模板（细览）：用来展示文档的详情。

####设置模板

在**站点操作任务**面板中点击**修改这个站点**，弹出修改站点的对话框，设置站点的默认首页模板，点击设置模板图标 ，弹出选择模板对话框。对话框中列出了站点中所有的概览模板，从中选择适合站点首页的模板，点击确定并保存站点的修改，这样站点首页模板就设置成功了。

![Markdown](http://p1.bqimg.com/581381/b72ca8e54a047170.png)

设置栏目与文档模板的方法类似。

进入栏目后，在“栏目操作任务”面板中点击**修改这个栏目**，弹出修改栏目对话框，设置栏目的首页模板和细览模板。

首页模板即当前栏目的概览模板，细览模板则是栏目中所有文档共用的模板。

点击设置模板的图标 ，分别为栏目首页和栏目的文档选择合适的模板，点击确定并保存栏目的修改，这样栏目和文档的模板设置成功。

###五、预览和发布站点

发布操作是将系统中的数据结合模板置标生成 HTML 页面的过程。这一章中已经创建了一个站点、一个栏目和一篇文档，并为它们分别设置了模板，现在就可以对站点、栏目和文档进行发布，生成各自的网页。
在发布之前，可以通过预览功能查看发布后的页面效果。

####预览

**预览站点：**选中或打开站点，在“站点操作任务”面板中点击**预览这个站点**。

**预览栏目：**选中或打开栏目，在“栏目操作任务”面板中点击**预览这个栏目**。

**预览文档：**选中文档，在“文档操作任务”面板中点击**预览这篇文档**。

或者直接在文档前点击预览按钮，如图：

![Markdown](http://p1.bpimg.com/581381/632937a6a71eeccc.png)

可以根据预览效果来决定是否立刻执行发布操作，当预览效果不如预期时可以返回再对模板进行修改，直到预览效果满意为止。

####发布

预览如果达到了满意的效果，即可对其进行发布：

文档发布：

文档的发布可以一个一个发布，也可以批量选中后一起发布。

![Markdown](http://p1.bqimg.com/581381/2a38659c0bf08877.png)


栏目及站点发布：

栏目和站点的发布直接在对应的栏目或者站点下右键点击增量发布这个站点即可。

![Markdown](http://p1.bqimg.com/581381/e1faada197aebb42.png)



####查看站点


当站点内的内容完成发布之后，我们可以通过我们之前设置过的地址来对我们刚刚建立的站点进行访问查看。

![Markdown](http://i1.piimg.com/581381/a65dab452e3ab432.png)

进入站点页面我们会发现第一个页面中展示了我们所有的栏目的名称。

![Markdown](http://p1.bpimg.com/581381/0a85a64eb9aa6683.png)


*左侧是浏览器中展示的效果，右侧是wcm中的结构*

点击进入**国内新闻**栏目，会发现页面中展示了**国内新闻**栏目下的四篇文章的标题，相应的进入国际新闻栏目就会展示国际新闻的文章。

![Markdown](http://p1.bpimg.com/581381/df3b8fd6263cac05.png)

*左侧是浏览器中展示的效果，右侧是wcm中的结构*

点击进入任意一个文章，则会进入该文章的详情页面。

![Markdown](http://p1.bpimg.com/581381/74d9ede594e61c6f.png)

这样就完成了一个简单示例项目的搭建以及列表页、详情页的发布。

##问题

在对文档或者栏目进行发布的时候，会有很多的发布选项，我自己默认的是选择的增量发布，那这些发布的选项有什么区别呢？什么时候应该用哪个选项对项目进行发布？
	
###	站点的发布

*	**增量发布这个站点：**发布站点中所有尚未发布的内容，并对有关联的概览页面进行更新。

		尚未发布的内容是指处于站点上设置的允许发布的状态（非已发）的文档，站点下所有栏目的首页。 
		有关联的概览页面进行更新是指如果模版中引用了该栏目的文档列表，那么使用这的页也要发布；
		引用文档如果发布，那么引用文档所对应的实体文档的所在栏目也要进行发布。

*	**仅发布这个站点首页：**仅发布当前站点的首页概览页面。

*	**发布已发文档及其概览：**对于细览，仅发布已发状态的页面。对于概览，与增量发布的处理方
式一样。

*	**完全发布这个站点：**发布站点下的所有内容，更新所有概览及细览页面。

*	**更新发布这个站点：**重新发布当前站点的概览页面，且发布引用它的栏目、站点的概览页面或
文档的细览页面。

###	栏目的发布

*	**增量发布这个栏目/增量发布当前栏目：**发布栏目中所有尚未发布的内容，并对有关联的
概览页面进行更新。

		对尚未发布内容及有关联的概览的理解，请参考『 增量发布这个站点』中的解释。
*	**仅发布此栏目的首页：**仅发布当前栏目的首页概览页面。

*	**发布已发文档及其概览：**对于细览，仅发布已发状态的页面。对于概览，与增量发布的处理方
式一样。

*	**完全发布这个栏目 /完全发布当前栏目：** 发布栏目下的所有内容，更新所有概览及细览页
面。

*	**更新发布这个栏目 / 更新发布当前栏目：**重新发布当前栏目的概览页面，且发布引用它的
栏目、栏目的概览页面或文档的细览页面。

*	**撤销发布这个栏目 / 撤销发布当前栏目：**撤回栏目内所有已发布的目录或页面。

###文档的发布	


*	**发布这篇文档：**发布文档，生成文档的细览页面，并更新相关联的概览页面。

*	**仅发布这篇文档的细览：**只重新生成文档的细览页面，不更新相关的概览页面。

*	**直接发布这篇文档：**同时发布实体文档及其所有引用文档，该发布不受站点中设置的“可发布
文档的状态”的影响，所有状态均可发布。

*	**撤销发布这篇文档：**撤回当前文档的发布页面。

*	**直接撤销发布这篇文档：**撤回当前文档的发布页面，并同步撤销文档的所有引用以及原文档发
布页面。





